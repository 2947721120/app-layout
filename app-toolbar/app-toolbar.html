<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<script>

  customElements.define('app-toolbar',
    class AppToolbar extends HTMLElement {
      get template() {
        var hostRules = navigator.userAgent.indexOf('Chrome') > 0 ?
          `
            :host {
              display: block;
              height: 64px;
              font-size: 20px;
              pointer-events: none;
              display: flex;
              flex-direction: row;
              align-items: center;
              position: relative;
              padding: 0 16px;
              box-sizing: border-box;
            }
          `
            :
          `
            :host {
              display: block;
              height: 64px;
              font-size: 20px;
            }

            slot {
              pointer-events: none;
              display: flex;
              flex-direction: row;
              align-items: center;
              position: relative;
              width: 100%;
              height: 100%;
              padding: 0 16px;
              box-sizing: border-box;
            }
          `;

        return `
          <style>

            ${hostRules}

            ::slotted(*) {
              pointer-events: auto;
            }

            ::slotted(paper-icon-button) {
              font-size: 0 !important;
            }

            ::slotted([title]),
            ::slotted([condensed-title]) {
              transform-origin: left top;
              pointer-events: none;
              flex: 1 1 auto;
              white-space: nowrap;
            }

            ::slotted([top-item]) {
              position: absolute !important;
              top: 0;
              right: 0;
              left: 0;
            }

            ::slotted([bottom-item]) {
              position: absolute !important;
              right: 0;
              bottom: 0;
              left: 0;
            }

            ::slotted([spacer]) {
              margin-left: 64px;
            }

          </style>
          <slot></slot>
        `;
      }

      constructor() {
        super();
        this.attachShadow({ mode: 'open' });
        this.shadowRoot.innerHTML = this.template;
      }
    });

</script>
